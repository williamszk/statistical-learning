# Comments

# Summary:
# median 25-28ms

# compared to the last run from 230429_01, 
# 16ms 
# in the windows machine it was much faster...
# why is that?
# 99p was 26ms
# in this machine and run:
# 99p was 54ms

# Comparing: Flask/test_230501_01...
# the test there was: 139ms-189ms
# in here was: 28ms
# Go fiber was around 5 times faster for latency
# Let's compare with Flask using guinicorn

autocannon -c 100 -d 5 -p 10 http://127.0.0.1:5000/

# =============================================================================
# This test is running in a local ubuntu container in my thinkpad
# Running 5s test @ http://127.0.0.1:5000/
# 100 connections with 10 pipelining factor

# ┌─────────┬───────┬───────┬───────┬───────┬──────────┬─────────┬────────┐
# │ Stat    │ 2.5%  │ 50%   │ 97.5% │ 99%   │ Avg      │ Stdev   │ Max    │
# ├─────────┼───────┼───────┼───────┼───────┼──────────┼─────────┼────────┤
# │ Latency │ 21 ms │ 28 ms │ 44 ms │ 54 ms │ 29.66 ms │ 7.89 ms │ 105 ms │
# └─────────┴───────┴───────┴───────┴───────┴──────────┴─────────┴────────┘
# ┌───────────┬────────┬────────┬─────────┬─────────┬─────────┬─────────┬─────────┐
# │ Stat      │ 1%     │ 2.5%   │ 50%     │ 97.5%   │ Avg     │ Stdev   │ Min     │
# ├───────────┼────────┼────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
# │ Req/Sec   │ 27919  │ 27919  │ 35007   │ 36031   │ 33755.2 │ 3029.93 │ 27910   │
# ├───────────┼────────┼────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
# │ Bytes/Sec │ 3.3 MB │ 3.3 MB │ 4.13 MB │ 4.25 MB │ 3.98 MB │ 357 kB  │ 3.29 MB │
# └───────────┴────────┴────────┴─────────┴─────────┴─────────┴─────────┴─────────┘

# Req/Bytes counts sampled once per second.
# # of samples: 5
# 170k requests in 5.14s, 19.9 MB read

# =============================================================================
# Another run
# Running 5s test @ http://127.0.0.1:5000/
# 100 connections with 10 pipelining factor

# ┌─────────┬───────┬───────┬───────┬───────┬──────────┬─────────┬────────┐
# │ Stat    │ 2.5%  │ 50%   │ 97.5% │ 99%   │ Avg      │ Stdev   │ Max    │
# ├─────────┼───────┼───────┼───────┼───────┼──────────┼─────────┼────────┤
# │ Latency │ 20 ms │ 25 ms │ 43 ms │ 58 ms │ 28.26 ms │ 8.17 ms │ 100 ms │
# └─────────┴───────┴───────┴───────┴───────┴──────────┴─────────┴────────┘
# ┌───────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┐
# │ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg     │ Stdev   │ Min     │
# ├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
# │ Req/Sec   │ 28591   │ 28591   │ 37023   │ 38015   │ 35323.2 │ 3427.52 │ 28590   │
# ├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
# │ Bytes/Sec │ 3.38 MB │ 3.38 MB │ 4.37 MB │ 4.49 MB │ 4.17 MB │ 403 kB  │ 3.37 MB │
# └───────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘
# Req/Bytes counts sampled once per second.
# # of samples: 5
# 178k requests in 5.13s, 20.8 MB read